### Create Member API Examples
### Use these examples with REST Client extensions or similar tools

### Variables
@baseUrl = http://localhost:8080
@apiVersion = v1.0

### 1. Create a simple member without membership
POST {{baseUrl}}/api/{{apiVersion}}/members
Content-Type: application/json

{
  "firstName": "Anna",
  "lastName": "Bianchi",
  "birthDate": "1990-07-22",
  "email": "anna.bianchi@example.com",
  "phoneNumbers": [],
  "addresses": [],
  "createMembership": false
}

###

### 2. Create a member with complete information and membership
POST {{baseUrl}}/api/{{apiVersion}}/members
Content-Type: application/json

{
  "firstName": "Mario",
  "lastName": "Rossi",
  "birthDate": "1985-03-15",
  "email": "mario.rossi@example.com",
  "phoneNumbers": [
    {
      "prefix": "+39",
      "number": "3331234567"
    }
  ],
  "addresses": [
    {
      "country": "Italy",
      "city": "Rome",
      "street": "Via Roma",
      "streetNumber": "123",
      "zipCode": "00100"
    }
  ],
  "createMembership": true,
  "seasonId": 1,
  "price": 130.0
}

###

### 3. Create a member with multiple phone numbers and addresses
POST {{baseUrl}}/api/{{apiVersion}}/members
Content-Type: application/json

{
  "firstName": "Giovanni",
  "lastName": "Verdi",
  "birthDate": "1982-11-30",
  "email": "giovanni.verdi@example.com",
  "phoneNumbers": [
    {
      "prefix": "+39",
      "number": "3487654321"
    },
    {
      "prefix": "",
      "number": "0612345678"
    }
  ],
  "addresses": [
    {
      "country": "Italy",
      "city": "Milan",
      "street": "Corso Buenos Aires",
      "streetNumber": "45",
      "zipCode": "20124"
    },
    {
      "country": "Italy",
      "city": "Rome",
      "street": "Via del Corso",
      "streetNumber": "100",
      "zipCode": "00186"
    }
  ],
  "createMembership": true,
  "seasonId": 1
}

###

### 4. Create a member for Season 2026 with custom price
POST {{baseUrl}}/api/{{apiVersion}}/members
Content-Type: application/json

{
  "firstName": "Laura",
  "lastName": "Neri",
  "birthDate": "1995-05-10",
  "email": "laura.neri@example.com",
  "phoneNumbers": [
    {
      "prefix": "+39",
      "number": "3209876543"
    }
  ],
  "addresses": [
    {
      "country": "Italy",
      "city": "Florence",
      "street": "Piazza del Duomo",
      "streetNumber": "10",
      "zipCode": "50122"
    }
  ],
  "createMembership": true,
  "seasonId": 2,
  "price": 150.0
}

###

### 5. Invalid request - missing required fields (should return 400)
POST {{baseUrl}}/api/{{apiVersion}}/members
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User"
}

###

### 6. Invalid request - invalid email format (should return 400)
POST {{baseUrl}}/api/{{apiVersion}}/members
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "birthDate": "1990-01-01",
  "email": "not-a-valid-email",
  "phoneNumbers": [],
  "addresses": [],
  "createMembership": false
}

###

### 7. Invalid request - invalid birth date format (should return 400)
POST {{baseUrl}}/api/{{apiVersion}}/members
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "birthDate": "01/15/1990",
  "email": "test.user@example.com",
  "phoneNumbers": [],
  "addresses": [],
  "createMembership": false
}

###

### 8. Create member with no phone prefix
POST {{baseUrl}}/api/{{apiVersion}}/members
Content-Type: application/json

{
  "firstName": "Paolo",
  "lastName": "Bianchi",
  "birthDate": "1988-12-05",
  "email": "paolo.bianchi@example.com",
  "phoneNumbers": [
    {
      "prefix": "",
      "number": "3331112233"
    }
  ],
  "addresses": [
    {
      "country": "Italy",
      "city": "Naples",
      "street": "Via Toledo",
      "streetNumber": "255",
      "zipCode": ""
    }
  ],
  "createMembership": true,
  "seasonId": 1
}

###

### 9. Invalid request - missing seasonId when createMembership is true (should return 400)
POST {{baseUrl}}/api/{{apiVersion}}/members
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "birthDate": "1990-01-01",
  "email": "test.missing.season@example.com",
  "phoneNumbers": [],
  "addresses": [],
  "createMembership": true
}

###
